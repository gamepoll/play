



<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>jQReload -3-6q - Default functionality</title>
</head>

<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<input id="race1K" cat="pk" value="0388" style="width: 150px;" />
<strong>2K</strong>
<input id="race3K" cat="pk" value="0388" style="width: 150px;" />
<input id="race4K" cat="pk" value="7500" style="width: 150px;" />
<input id="race5K" cat="pk" value="7500" style="width: 150px;" />

<input id="race6K" cat="pk" value="0388" style="width: 150px;" />
<input id="race7K" cat="pk" value="7500" style="width: 150px;" />
<input id="race8K" cat="pk" value="0388" style="width: 150px;" />
<input id="race9K" cat="pk" value="7500" style="width: 150px;" />
<input id="race10K" cat="pk" value="7500" style="width: 150px;" />
<input id="race11K" cat="pk" value="7500" style="width: 150px;" />
<button class="ghost-btn" id=1 onclick="qtocloud(this.id)">Sa內銀</button>
<button class="ghost-btn" id=2 onclick="qtocloud(this.id)">Sa內需</button>
<button class="ghost-btn" id=3 onclick="qtocloud(this.id)">Sa新經</button>
<button class="ghost-btn" id=4 onclick="qtocloud(this.id)">Sa濠賭</button>
<button class="ghost-btn" id=5 onclick="qtocloud(this.id)">Sa物管</button>
<button class="ghost-btn" id=6 onclick="qtocloud(this.id)">Sa奶品</button>
<br />
<button id=1 onclick="active(this.id)">ImPort 內銀</button>
<button id=2 onclick="active(this.id)">ImPort 內需</button>
<button id=3 onclick="active(this.id)">ImPort 新經</button>
<br />
<button id=4 onclick="active(this.id)">ImPort 濠賭</button>
<button id=5 onclick="active(this.id)">ImPort 物管</button>
<button id=6 onclick="active(this.id)">ImPort 奶品</button>
<div id="sector_mon">
  <button id="button-1">Click Me</button>
  <p id="qcaption"></p>

  <p id="demo"></p>
  <button id="buttsave" onclick="clock()">Save Timer</button>

  <br />

  <img id="img_xxxk" width="375" height="315" border="0">
  <img id="img_xxxk1" width="375" height="315" border="0">
  <img id="img_xxxk2" width="375" height="315" border="0">
  <img id="img_xxxk3" width="375" height="315" border="0">
  <img id="img_xxxk4" width="375" height="315" border="0">
  <img id="img_xxxk5" width="375" height="315" border="0">
  <img id="img_xxxk6" width="375" height="315" border="0">
  <img id="img_xxxk7" width="375" height="315" border="0">

  <br />
  <div class="image1">
    <ul>
      <li>
        <img id="img_mon1" width="375" height="315" border="0">
        <span id="img_mon1_sp">Some text1</span>
      </li>
      <li>
        <img id="img_mon1q" width="375" height="315" border="0">
        <span id="img_mon1q_sp">Some text1</span>
      </li>
    </ul>
<input id="race2K" cat="pk" value="7500...$5.8" style="width: 150px;" />
    <ul>
      <li>
        <img id="img_mon2" width="375" height="315" border="0">
        <span id="img_mon2_sp">Some text1</span>
      </li>
      <li>
        <img id="img_mon2q" width="375" height="315" border="0">
        <span id="img_mon2q_sp">Some text1</span>
      </li>
    </ul>
    <ul>
      <li>
        <img id="img_mon3" width="375" height="315" border="0">
        <span id="img_mon3_sp">Some text1</span>
      </li>
      <li>
        <img id="img_mon4" width="375" height="315" border="0">
        <span id="img_mon4_sp">Some text1</span>
      </li>
    </ul>
    <ul>
      <li>
        <img id="img_mon5" width="375" height="315" border="0">
        <span id="img_mon5_sp">Some text1</span>
      </li>
      <li>

        <img id="img_mon6" width="375" height="315" border="0">
        <span id="img_mon6_sp">Some text1</span>
      </li>
    </ul>
    <ul>
      <li>
        <img id="img_mon7" width="375" height="315" border="0">
        <span id="img_mon7_sp">Some text1</span>
      </li>
      <li>
        <img id="img_mon8" width="375" height="315" border="0">
        <span id="img_mon8_sp">Some text1</span>
      </li>
    </ul>
    <ul>
      <li>
        <img id="img_mon9" width="375" height="315" border="0">
        <span id="img_mon9_sp">Some text1</span>
      </li>
      <li>
        <img id="img_mon10" width="375" height="315" border="0">
        <span id="img_mon10_sp">Some text1</span>
      </li>
    </ul>
    <ul>
      <li>
        <img id="img_mon11" width="375" height="315" border="0">
        <span id="img_mon11_sp">Some text1</span>
      </li>
      <li>
        <img id="img_mon11q" width="375" height="315" border="0">
        <span id="img_mon11q_sp">Some text1</span>
      </li>
    </ul>
  </div>
  <br />
</div>
<style>
.ghost-btn {
border: none;
    /* color: #3f6fa0; blue */
  color: #ffffff;
  background: #ffffff;

}
.ghost-btn:hover {
  background-color: red;
  color: #ffffff;
}
.ghost-btn:focus {
  outline: none;
}
	
div.xbox {
    /* To correctly align image, regardless of content height: */
    /* vertical-align: top; */
    display: inline-block;
    text-align:center;
    color: blue;
}

.image1 ul li
{
    cursor: pointer;
	display: inline-block;
	padding : 1em;
	position: relative;
}


.image1 ul li img+span
{
  	border-bottom-right-radius: .5em;
	border-bottom-left-radius: .5em;
	border-top-right-radius: .5em;
	border-top-left-radius: .5em;
	
	background: #000;
	color: orange;
	display: none;
	height: 10px;
	left: 3em;
	opacity: .6;
	padding: 7px;
	position: absolute;
	top: 1em;
	white-space: pre-line;
	width: 92px;
	word-wrap: break-word;
	display: block;
    top: 320px;
}
</style>

<script>
setInterval(function () {
  $("#button-1").trigger("click");
}, 4000);

/////////////////////////////////////////////////////

/////////////////////////////////////////////////////
$("#sector_mon").on("click", "button", function () {
  document.getElementById("img_xxxk").src =
    "https://www.kitconet.com/charts/metals/silver/t24_ag_en_usoz_4.gif?p=" +
    Math.random().toString(36).substr(2, 9);
  document.getElementById("img_xxxk1").src =
    "https://charts.megahubhk.com/servlets/MHImageChart?sid=VHSI&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=9&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=16&p=" +
    Math.random().toString(36).substr(2, 9);
  document.getElementById("img_xxxk2").src =
    "http://imgnode.gtimg.cn/hq_img?type=minute&size=1&proj=stockhome&code=sh000001&p=" +
    Math.random().toString(36).substr(2, 9);
  document.getElementById("img_xxxk3").src =
    "http://webquotepic.eastmoney.com/GetPic.aspx?nid=100.UDI&imageType=RF&m=" +
    Math.random().toString(36).substr(2, 9);
  document.getElementById("img_xxxk4").src =
    "https://www.kitconet.com/charts/metals/gold/t24_au_en_usoz_4.gif?p=" +
    Math.random().toString(36).substr(2, 9);
  document.getElementById("img_xxxk5").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=HSCEI&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  document.getElementById("img_xxxk6").src =
    "http://webquotepic.eastmoney.com/GetPic.aspx?nid=103.NQ00Y&imageType=rf&p=" +
    Math.random().toString(36).substr(2, 9);
  document.getElementById("img_xxxk7").src =
    "https://www.finviz.com/fut_image.ashx?es_m5_s.png&p=" +
    Math.random().toString(36).substr(2, 9);

  document.getElementById("img_mon1").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race1K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon1_sp").html("Some text2");
  $("#img_mon1_sp").html($("#race1K").val().split(/\.\.\./g)[1]);

  document.getElementById("img_mon1q").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race1K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1002060&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon1q_sp").html("Some text2");
  $("#img_mon1q_sp").html($("#race1K").val().split(/\.\.\./g)[1]);
	
  document.getElementById("img_mon2").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race2K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon2_sp").html("Some text2");
  $("#img_mon2_sp").html($("#race2K").val().split(/\.\.\./g)[1]);
  
  document.getElementById("img_mon2q").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race2K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1002060&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon2q_sp").html("Some text2");
  $("#img_mon2q_sp").html($("#race2K").val().split(/\.\.\./g)[1]);
	
  document.getElementById("img_mon3").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race3K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon3_sp").html("Some text2");
  $("#img_mon3_sp").html($("#race3K").val().split(/\.\.\./g)[1]);
  
  document.getElementById("img_mon4").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race4K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon4_sp").html("Some text2");
  $("#img_mon4_sp").html($("#race4K").val().split(/\.\.\./g)[1]);
  
  document.getElementById("img_mon5").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race5K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon5_sp").html("Some text2");
  $("#img_mon5_sp").html($("#race5K").val().split(/\.\.\./g)[1]);
  
  document.getElementById("img_mon6").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race6K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon6_sp").html("Some text2");
  $("#img_mon6_sp").html($("#race6K").val().split(/\.\.\./g)[1]);
  
  document.getElementById("img_mon7").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race7K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon7_sp").html("Some text2");
  $("#img_mon7_sp").html($("#race7K").val().split(/\.\.\./g)[1]);
  
  document.getElementById("img_mon8").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race8K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon8_sp").html("Some text2");
  $("#img_mon8_sp").html($("#race8K").val().split(/\.\.\./g)[1]);
  
  document.getElementById("img_mon9").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race9K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon9_sp").html("Some text2");
  $("#img_mon9_sp").html($("#race9K").val().split(/\.\.\./g)[1]);
  
  document.getElementById("img_mon10").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race10K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon10_sp").html("Some text2");
  $("#img_mon10_sp").html($("#race10K").val().split(/\.\.\./g)[1]);
  
  document.getElementById("img_mon11").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race11K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1000305&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon11_sp").html("Some text2");
  $("#img_mon11_sp").html($("#race11K").val().split(/\.\.\./g)[1]);
  
  document.getElementById("img_mon11q").src =
    "http://charts.megahubhk.com/servlets/MHImageChart?sid=" +
    $("#race11K").val().split(/\.\.\./g)[0] +
    "&cmode=1&vol=1&intTech1=1&it1p1=50&it1p5=200&tstyle=2&fsize=10&&cr=106&cwidth=275&cheight=175&lang=1&cperiod=1002060&ctype=1&wm=13&p=" +
    Math.random().toString(36).substr(2, 9);
  $("#img_mon11q_sp").html("Some text2");
  $("#img_mon11q_sp").html($("#race11K").val().split(/\.\.\./g)[1]);
  
});

var myTimer;
var foodown = 0;
function clock() {
  myTimer = setInterval(myClock, 1000);
  var c = 7; //Initially set to 1 hour
  foodown = 1;

  $("#buttsave").prop("disabled", true);

  function myClock() {
    --c;
    var seconds = c % 60; // Seconds that cannot be written in minutes
    var minutes = (c - seconds) / 60; // Gives the seconds that COULD be given in minutes
    var minutesLeft = minutes % 60; // Minutes that cannot be written in hours
    var hours = (minutes - minutesLeft) % 60;
    // Now in hours, minutes and seconds, you have the time you need.
    console.clear();
    console.log(hours + ":" + minutes + ":" + seconds);
    // Output the result in an element with id="demo"
    document.getElementById("demo").innerHTML =
      hours + "h " + minutes + "m " + seconds + "s ";

    if (c == 0) {
      $("#buttsave").prop("disabled", false);
      clearInterval(myTimer);
      foodown = 0;
    }
  }
}

//////////////////////////////////////
const cloudlist = [{
    id: 1,
    name: '內銀',
    cid: '5f0bf8e8-694b-45bf-add8-da44ee163588'
  }, {
    id: 2,
    name: '內需',
    cid: '6f711ef4-1d0f-409f-bb9a-9f9648521ad4'
  }, {
    id: 3,
    name: '新經',
    cid: '32179c23-ad7e-49a9-8c87-0e232cab2c08'
  }, {
    id: 4,
    name: '濠賭',
    cid: '7e473978-0985-40e1-9b79-2fc58dd7a3c3'
  }, {
    id: 5,
    name: '物管',
    cid: 'd543fc66-624e-4905-b024-403269bfc156'
  }, {
    id: 6,
    name: '奶品',
    cid: '8b10eade-6548-4135-8ab2-e1ee4959d24b'
  }];

//////////////////////////////////////
function qtocloud(id){
  qurl="https://jsonstorage.net/api/items/"+cloudlist.filter(function(item) {
  return item.id == id;}).map(obj => obj.cid)[0];
  
  if (foodown == 1) {
    $.getJSON(
      qurl,
      function (posts) {
        // posts => LS
        localStorage.setItem("lsposts", JSON.stringify(posts));

        // LS => jsonArray
        jsonArray2 = JSON.parse(localStorage.getItem("lsposts"));

        // jsonArray2 += newjson
        $('input[cat="pk"]').each(function () {
          jsonArray2.queue.push({
            key: $(this).attr("id"),
            name: $(this).val(),
            key2: "//"
          });
        });
        // do update
        $.ajax({
          url: qurl,
          type: "PUT",
          data: JSON.stringify(jsonArray2),
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function (data, textStatus, jqXHR) {
            var json = JSON.stringify(data);
          }
        });
      }
    );
  }
};

//////////////////////////////////////
function active(id){

  qurl="https://jsonstorage.net/api/items/"+cloudlist.filter(function(item) {
  return item.id == id;}).map(obj => obj.cid)[0];
  
  qname=cloudlist.filter(function(item) {
  return item.id == id;}).map(obj => obj.name)[0];
  
  $('#qcaption').text(qname);
  
  $.getJSON(
    qurl,
    function (posts) {
      for (var i = 2; i < posts.queue.length; i++) {
        $('input[cat="pk"]').each(function () {
          var id = $(this).attr("id");
          if (id == posts.queue[i].key) {
            var value = posts.queue[i].name;
            $(this).val(value);
          }
        });
      }
    }
  );
}
	
</script>

